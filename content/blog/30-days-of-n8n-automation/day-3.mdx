---
title: "Architecting the Infrastructure: n8n Cloud vs. Self-Hosted (Day 3)"
slug: what-is-n8n-and-how-to-set-it-up
description: "Stop guessing about your infrastructure. Learn the exact architectural differences between n8n Cloud and Self-Hosted deployments, Docker, Postgres, and Redis scaling."
date: '2026-02-26'
seoTitle: "n8n Cloud vs Self-Hosted: The Enterprise Deployment Guide | Day 3"
seoDescription: "Learn the exact architectural differences between n8n Cloud and Self-Hosted deployments. Step-by-step infrastructure checklist for SaaS and agencies."
image: /images/blog/what-is-n8n-and-how-to-set-it-up-featured.webp
categories:
  - 30 Days of n8n and automation
  - RevOps Architecture
---

**By Alfaz Mahmud Rizve | RevOps & Full Stack Automation Architect**

You have mapped out your workflow. You understand the core concepts of nodes, triggers, and the central credential vault from Day 2. You are finally ready to rip out fragile Zapier pipelines and build a true, event-driven Automation Operating System.

But before you connect a single external API or process a single webhook payload, you face the most critical architectural decision of this entire 30-day sprint: **Where is your automation brain actually going to live?**

In the consumer-grade automation world, you do not get a choice. You rent space on a multi-tenant server, and the platform taxes you for every single task you execute. If you have a loop that processes 1,000 rows in a CSV, they charge you for 1,000 tasks. Your operational costs scale exponentially while your revenue stays flat. It is a fundamental architectural trap.

n8n completely disrupts this parasitic pricing model by giving you absolute control over your deployment environment.

You have two primary paths: **n8n Cloud (Managed Infrastructure)** or **n8n Self-Hosted (Owned Infrastructure)**.

Choosing the wrong path today will either drown your operations team in unnecessary DevOps maintenance, or it will cost your company thousands of dollars in scale-up fees six months from now. As a RevOps Architect, you do not guess. You engineer the solution based on your exact data volume, compliance requirements, and in-house technical talent.

Here is the definitive, deeply technical guide to deploying your n8n infrastructure for enterprise SaaS and agency operations.

![Alfaz Mahmud Rizve explaining what n8n is and how to set it up on cloud or self-hosted, with apps connected around an automation hub](/images/blog/what-is-n8n-and-how-to-set-it-up-Generated-Image-December-20-2025-10_11PM.png)

## The Philosophy of Infrastructure Ownership

Before we look at the servers, we must understand the economics of automation.

Most founders treat automation as a software subscription. They log in, build a Zap, and pay the monthly bill. But when you are building a central orchestrator that handles everything from Stripe billing events to automated Apollo lead enrichment and Next.js database syncing, your automation platform is no longer just a "tool." It is your core infrastructure.

**When you control the infrastructure, you control your margins.**

n8n operates on a "fair-code" model. They offer a fully managed cloud service for teams that prioritize speed, but they also open-source their core engine (the Community Edition) so engineers can deploy it on their own Linux servers for free. You pay strictly for the raw compute power (RAM and CPU) of the server itself, granting you virtually unlimited workflow executions.

Let us break down exactly how both environments work under the hood.

---

## Path 1: n8n Cloud (The Managed Architecture)

If your immediate mandate is "speed to value" and you have zero dedicated backend engineers on your team, you deploy on n8n Cloud.

n8n Cloud is a fully managed Software-as-a-Service (SaaS) environment hosted by the n8n engineering team. When you spin up an instance, you are not just buying access to the visual canvas; you are paying a team of DevOps professionals to manage the invisible layers of your architecture.

### What You Are Actually Paying For:

*   **Server Provisioning**: n8n handles the underlying container orchestration, automatically scaling the compute resources as your workflow complexity increases. You never have to calculate CPU loads or memory limits.
*   **Security & SSL**: Your webhook endpoints are automatically secured with SSL/TLS encryption. You do not have to manually provision Let's Encrypt certificates or configure reverse proxy routing via Nginx.
*   **Database Maintenance**: Behind the scenes, n8n stores your execution logs and workflow JSON data in a managed database. On the cloud tier, you never have to worry about running out of disk space, database indexing, or executing vacuum commands.
*   **Version Upgrades**: The n8n team releases updates constantly. On the cloud, your instance is patched with the latest nodes, security fixes, and features without you ever having to execute a `docker pull` command or rebuild your containers.

### The Pricing Arbitrage (Why It Beats Competitors)

While n8n Cloud is a paid subscription, it fundamentally destroys legacy platforms in enterprise environments because n8n Cloud charges per execution, not per step.

If a Stripe webhook triggers your n8n Cloud instance, and that workflow involves 50 internal logic routing steps (Switch nodes, JavaScript data transformations, Code nodes) before finally pushing data to your Next.js application, n8n counts that entire process as one execution. On traditional platforms, that same workflow would burn 50 tasks. You can process massively complex, deeply nested JSON payloads on n8n Cloud without bankrupting your monthly execution quota.

**When n8n Cloud is the Mandatory Choice:**

1.  **Zero DevOps Talent**: If your agency consists of marketers, SDRs, and founders—not Linux system administrators—you have no business managing servers. Pay the cloud premium and focus on building revenue logic.
2.  **Rapid Agency Prototyping**: When building proof-of-concept workflows for new enterprise clients, spinning them up in isolated n8n Cloud workspaces allows you to validate the logic in hours without provisioning dedicated cloud infrastructure on your end.
3.  **Predictable Uptime**: If a core webhook goes down at 2:00 AM because a self-hosted Postgres database ran out of memory, you are losing money. n8n Cloud guarantees your uptime with dedicated SLA routing.

---

## Path 2: Self-Hosted n8n (The Enterprise Fort Knox)

Self-hosting is where n8n transforms from an automation tool into a true Enterprise Operating System.

If you have basic familiarity with the Linux command line, Docker, and environment variables, self-hosting gives you the ultimate financial and technical arbitrage. By pulling the official n8n Docker image and running it on your own Virtual Private Server (VPS), you get unlimited workflows, unlimited executions, and zero feature gating. Your only limitation is the physical RAM and CPU of your server.

### The Hardware Requirements (NVMe and Compute)

Do not attempt to run a production-grade n8n orchestrator on a $2/month shared hosting plan. Automation engines process heavy JSON payloads entirely in memory. If you starve the engine, it will crash via an Out-Of-Memory (OOM) error, dropping your webhooks into the void.

*   **The Baseline Server**: You need a dedicated Linux VPS. Ubuntu 22.04 LTS is the industry standard for containerized deployments.
*   **Compute & Memory**: The absolute minimum for a production environment is 2 vCPUs and 4GB of RAM. If you are processing heavy image files, executing long-running loops, or dealing with base64 encoded data, scale directly to 8GB of RAM.
*   **My Infrastructure Choice**: I deploy my client architectures exclusively on Vultr High Performance Compute or DigitalOcean Droplets. They provide the raw, unthrottled CPU power and NVMe storage required for heavy database I/O operations. *(Check the **Deploying the Stacks** section below for direct links to these servers).*

### The Database Dilemma: SQLite vs. PostgreSQL

This is where amateur deployments fail and enterprise deployments scale.

By default, when you spin up an n8n Docker container, it uses an internal SQLite database to store your workflows, credentials, and execution logs. SQLite is a flat-file database. It is incredible for testing locally, but it is fundamentally incapable of handling high-concurrency production environments.

If you launch a marketing campaign and 50 people submit a Next.js form at the exact same millisecond, n8n will try to write 50 execution logs to the SQLite file simultaneously. SQLite will lock the database, the writes will fail, your webhooks will drop, and your automation will silently crash.

**The Enterprise Standard**: You must deploy n8n alongside a dedicated PostgreSQL database container. Postgres is built for massive, multi-threaded read/write concurrency. By configuring your `docker-compose.yml` file to route all n8n state data to a Postgres container, you effectively bulletproof your orchestrator against traffic spikes.

### The Networking Layer: Reverse Proxies and SSL

When you self-host, your webhooks are entirely exposed to the internet. If you try to catch webhooks over standard HTTP (Port 80), modern SaaS platforms like Stripe and GitHub will actively block the payload. You must secure your server with HTTPS (Port 443).

To do this, we do not expose the n8n container directly to the internet. We put a "Reverse Proxy" in front of it.

1.  **The Domain**: You create a dedicated A-Record in your DNS provider (e.g., `n8n.yourcompany.com`) pointing to your Vultr or DigitalOcean server's IP address.
2.  **The Proxy**: You run a reverse proxy like Traefik, Nginx Proxy Manager, or Caddy within your Docker network.
3.  **The Handshake**: The reverse proxy intercepts all incoming web traffic, automatically generates a free Let's Encrypt SSL certificate, encrypts the payload, and securely routes the data internally to the n8n container.

![Self-hosted n8n server illustration from Alfaz Mahmud Rizve with Docker and database icons for full control](/images/blog/what-is-n8n-and-how-to-set-it-up-Generated-Image-December-20-2025-10_07PM.png)

---

## Advanced Architecture: Scaling the Monolith with Redis

If you choose the self-hosted route and your company scales to processing thousands of webhooks per minute, running n8n as a single Docker container will eventually hit a single-threaded Node.js processing bottleneck.

This is where n8n proves it is a true enterprise framework. You can decouple the architecture and split it into distributed microservices using **Queue Mode**.

Instead of one n8n instance doing all the work, you spin up a Redis container. Redis acts as a high-speed, in-memory message broker (specifically using BullMQ concepts). You then deploy your architecture like this:

*   **The Main Instance**: A single n8n container handles the UI, allowing you to build, edit, and save workflows to the Postgres database. It does not execute the heavy lifting.
*   **Webhook Processors**: You deploy 3 to 5 lightweight n8n "Webhook" containers. Their only job is to instantly catch incoming POST requests and throw the raw JSON payload into the Redis queue. They return a 200 OK instantly to the sender to prevent timeouts.
*   **Worker Nodes**: You deploy 5 to 10 n8n "Worker" containers. These workers pull jobs from the Redis queue as fast as they can, executing the actual API calls, running the JavaScript code nodes, and doing the heavy data transformations.

If traffic spikes during a product launch, you simply spin up more Worker containers on your Vultr instance. This is the exact architectural blueprint used by billion-dollar tech companies to ensure zero data loss, and you can orchestrate it for less than $100 a month in server compute.

---

## Security Protocols: Hardening the Perimeter

Owning your infrastructure means owning your security. If you leave a self-hosted n8n instance exposed, automated botnets will scan your IP address, attempt to brute-force your login panel, and hijack your API credentials within hours.

As a RevOps Architect, you must implement these three security firewalls before processing a single client payload:

### 1. Cloudflare Proxying (The WAF)
Never expose your raw server IP to the public web. Route your `n8n.yourcompany.com` subdomain through Cloudflare. Enable Cloudflare's Web Application Firewall (WAF) to block malicious traffic from known botnet IPs before the request ever reaches your Vultr server.

### 2. UFW (Uncomplicated Firewall) & Docker Networks
Lock down the internal server ports. The only ports that should be open to the outside world are Port 80 (HTTP), Port 443 (HTTPS), and Port 22 (SSH). You must block external access to your Postgres database port (5432) and your Redis port (6379). Your databases should only communicate with n8n via isolated internal Docker networks.

### 3. Environment Variable Encryption
Inside your n8n `docker-compose.yml` file, you must define the `N8N_ENCRYPTION_KEY` environment variable. This is a highly secure, randomized cryptographic string that n8n uses to encrypt the credentials you store in the vault (like your Stripe keys or HubSpot tokens). If an attacker somehow breaches your Postgres database and steals the raw tables, the credential data remains heavily encrypted and completely useless to them without this master key.

---

## The Architect's Decision Matrix

Still unsure which deployment architecture fits your current operational capacity? Use this binary logic gate to determine your exact strategy:

| Architectural Requirement | The Mandated Deployment | The RevOps Justification |
| :--- | :--- | :--- |
| **Validation & Speed** | **n8n Cloud** | Zero setup time. Perfect for validating internal workflows and closing deals before committing to infrastructure. |
| **No In-House DevOps** | **n8n Cloud** | You should be building revenue-generating workflows, not debugging Docker containers and renewing SSL certificates at midnight. |
| **Unlimited Execution Scale** | **Self-Hosted** | Paying for a $20 VPS to run 1,000,000 deep-data executions is the ultimate financial arbitrage. |
| **Strict Data Privacy** | **Self-Hosted** | Data never leaves your infrastructure. Mandatory for legal compliance, banking, and medical data architecture. |
| **Agency Client Isolation** | **n8n Cloud** | Maintain separate, isolated cloud workspaces for each client. Bill them for the subscription as part of your monthly retainer. |

---

## Your Day 3 Mandate: Establish the Beachhead

We cannot build the Zero-Touch Lead Engine tomorrow if you do not have a canvas to build it on today. Theory is useless without execution. Your mandate for Day 3 is simple: **secure your infrastructure.**

**For SaaS Founders & Marketers:**
Do not overcomplicate this. Choose the path of least resistance so you can start engineering logic immediately.
1. **[Spin up your n8n Cloud instance right now.](/go/n8n)**
2. Log into the dashboard, navigate to the Credentials tab, and connect your first app (like Google Sheets, Apollo, or Slack).

**For Technical Founders & DevOps Engineers:**
If you want complete data sovereignty, zero execution limits, and the ability to scale via Redis queues, it is time to provision your server.
1. Deploy a Vultr High Performance VPS or DigitalOcean Droplet.
2. Point your DNS A-Record to the server IP.
3. SSH into the server, install Docker, and deploy the official n8n + PostgreSQL docker-compose stack behind an Nginx proxy.

Once your infrastructure is live, the foundation is set. You have officially graduated from theoretical concepts. Tomorrow, in Day 4, we will log into your newly deployed environment and architect your very first production-grade automation workflow from scratch.

![Checklist from Alfaz Mahmud Rizve comparing n8n Cloud and self-hosted n8n for different automation scenarios](/images/blog/what-is-n8n-and-how-to-set-it-up-Generated-Image-December-20-2025-10_08PM.png)

## Deploying the Stacks (Resources)

Here are the direct links to deploy the infrastructure mentioned in today's guide. I recommend starting with Vultr for self-hosting due to their superior NVMe performance:

*   **Vultr ($300 Promo)**: **[Secure your $300 Vultr credit for high-performance hosting here.](/go/vultr-promo)**
*   **n8n Cloud**: **[Deploy your managed n8n Cloud instance here.](/go/n8n)**
*   **Vultr (Standard)**: **[Access standard Vultr cloud compute for your automation nodes.](/go/vultr)**
*   **Apollo.io (Data Engine)**: **[Lock in your Apollo B2B data pipeline here.](/go/apollo)**
*   **Databox (Analytics)**: **[Set up your executive Databox dashboard here.](/go/databox)**

**Stop clicking around in legacy software. Choose your infrastructure, deploy the stack, and I will see you on the inside.**

---
